{"uuid":"01ecd632-ba1c-4c82-84e8-cf23fdce20a9","test_framework_name":"Playwright","test_framework_version":"1.56.1","test_logs":[],"test_hooks_finished":{},"test_hooks_started":{},"test_uuid":"01ecd632-ba1c-4c82-84e8-cf23fdce20a9","test_result":"failed","automate_session_name":"test-3.spec.ts - No ID duplication within or across users (desktop/table only)","test_file_path":"C:\\Automation\\TajawobAutomationJenkins\\TajawobAutomation1\\tests\\test-3.spec.ts","test_id":"4b583dfcc6c9ec3b088b-a14bbcaa370f37687c48","test_name":"No ID duplication within or across users (desktop/table only)","test_location":"C:\\Automation\\TajawobAutomationJenkins\\TajawobAutomation1\\tests\\test-3.spec.ts:20","test_code":"async ({\n  browser\n}) => {\n  const results = await Promise.all(users.map(u => collectComplaintIdsForUser(browser, u)));\n\n  // Normalize per user\n  const perUserIds = Object.fromEntries(results.map(({\n    user,\n    ids\n  }) => [user.name, norm(ids)]));\n\n  // 1) No duplicates within each user\n  for (const [userName, ids] of Object.entries(perUserIds)) {\n    const set = new Set(ids);\n    _test.expect.soft(set.size, `Intra-user duplicates for ${userName}: ${ids}`).toBe(ids.length);\n  }\n\n  // 2) No overlap across users (log exact overlaps)\n  const [A, B, C] = ['user1', 'user2', 'user3'].map(n => new Set(perUserIds[n] || []));\n  const ab = overlapList(A, B);\n  const ac = overlapList(A, C);\n  const bc = overlapList(B, C);\n\n  // Attach overlaps for easy debugging in the report\n  _test.test.info().attach('overlaps.json', {\n    body: Buffer.from(JSON.stringify({\n      AB: ab,\n      AC: ac,\n      BC: bc\n    }, null, 2), 'utf-8'),\n    contentType: 'application/json'\n  });\n  _test.expect.soft(ab.length, `Overlap between user1 and user2: ${ab.join(', ') || 'none'}`).toBe(0);\n  _test.expect.soft(ac.length, `Overlap between user1 and user3: ${ac.join(', ') || 'none'}`).toBe(0);\n  _test.expect.soft(bc.length, `Overlap between user2 and user3: ${bc.join(', ') || 'none'}`).toBe(0);\n\n  // Also attach the per-user IDs for traceability\n  _test.test.info().attach('perUserIds.json', {\n    body: Buffer.from(JSON.stringify(perUserIds, null, 2), 'utf-8'),\n    contentType: 'application/json'\n  });\n}","test_tags":[],"test_started_at":"2026-01-06T16:16:42.146Z","test_scope":"test-3.spec.ts - No ID duplication within or across users (desktop/table only)","test_scopes":[],"test_rerun_name":" -Google Pixel 7:13.0-browserstack-mobile test-3.spec.ts No ID duplication within or across users (desktop/table only)","test_failure":[{"backtrace":["Error: browserType.connect: Error: Automate testing time expired.","    at BrowserType._0x1e894c (C:\\Automation\\TajawobAutomationJenkins\\TajawobAutomation1\\node_modules\\browserstack-node-sdk\\src\\bin\\playwright\\mock-process.js:1:29509)"],"expanded":["message: Error: browserType.connect: Error: Automate testing time expired.","location: undefined"]}],"test_failure_type":"UnhandledError","test_failure_reason":"Error: browserType.connect: Error: Automate testing time expired.","logs":[],"test_ended_at":"2026-01-06T16:16:42.386Z","test_result_at":"2026-01-06T16:16:45.829Z","custom_metadata":{}}